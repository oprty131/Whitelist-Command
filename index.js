const _0x4770eb=_0x5119;function _0x4b0b(){const _0x585728=['7312pftdhx','join','tag','log','messageCreate','dotenv',':whitelist','send','Guilds','2084MOTIXj','author','1056480ZXMILu','message','once','Please\x20provide\x20a\x20Roblox\x20username.','local\x20premium\x20=\x20{\x0a','user','listen','737wiNHQU','Bot\x20is\x20ready!','Replace\x20Roblox\x20username\x20in\x20premium\x20list','\x20in\x20the\x20whitelist.','exec','92388hgxmCc','path','**\x20is\x20already\x20on\x20the\x20whitelist.','trim','sendFile','FLAGS','Error\x20handling\x20the\x20check\x20command:','exit','member','\x20has\x20been\x20added\x20to\x20the\x20whitelist.','Please\x20provide\x20both\x20the\x20old\x20and\x20new\x20Roblox\x20usernames.','1296650ejBWlQ','https://users.roblox.com/v1/usernames/users','base64','post','ready','map','from','express','Error\x20handling\x20the\x20whitelist\x20command:','Error\x20retrieving\x20whitelist\x20information.','name','static','cache','You\x20do\x20not\x20have\x20permission\x20to\x20use\x20this\x20command.','permissions','72120gsXYpA','axios','385LnUZEF','local\x20premium\x20=\x20{','error','GuildMessages','toString','utf-8','Add\x20Roblox\x20username\x20to\x20premium\x20list','length','9zZhSkn','now','You\x20must\x20wait\x2024\x20hours\x20before\x20whitelisting\x20again.','**\x20is\x20not\x20on\x20the\x20whitelist.','put','\x20has\x20been\x20replaced\x20with\x20','some','data','One\x20or\x20both\x20usernames\x20do\x20not\x20exist.','use','response','includes','sha','content','config','replace','channel','filter','startsWith','395kmCLhN','application/json','User\x20is\x20already\x20whitelisted.','ADMINISTRATOR','split','MessageContent','Premium','6lmxTFa','GITHUB_TOKEN','has',':check','4045552FYaWCS','get','token\x20','An\x20error\x20occurred:\x20','env','\x20is\x20not\x20on\x20the\x20whitelist.'];_0x4b0b=function(){return _0x585728;};return _0x4b0b();}(function(_0x205ca3,_0x4f9485){const _0x4b6d6c=_0x5119,_0x37f684=_0x205ca3();while(!![]){try{const _0x4db493=parseInt(_0x4b6d6c(0x19e))/0x1*(parseInt(_0x4b6d6c(0x174))/0x2)+-parseInt(_0x4b6d6c(0x182))/0x3+-parseInt(_0x4b6d6c(0x1ca))/0x4*(-parseInt(_0x4b6d6c(0x1b9))/0x5)+-parseInt(_0x4b6d6c(0x1c0))/0x6*(parseInt(_0x4b6d6c(0x1c4))/0x7)+-parseInt(_0x4b6d6c(0x176))/0x8+parseInt(_0x4b6d6c(0x1a6))/0x9*(parseInt(_0x4b6d6c(0x18d))/0xa)+-parseInt(_0x4b6d6c(0x17d))/0xb*(-parseInt(_0x4b6d6c(0x19c))/0xc);if(_0x4db493===_0x4f9485)break;else _0x37f684['push'](_0x37f684['shift']());}catch(_0x3ddeb8){_0x37f684['push'](_0x37f684['shift']());}}}(_0x4b0b,0x524e5));const {Client,GatewayIntentBits,Permissions}=require('discord.js'),axios=require(_0x4770eb(0x19d));require(_0x4770eb(0x170))[_0x4770eb(0x1b4)]();const express=require(_0x4770eb(0x194)),path=require(_0x4770eb(0x183)),client=new Client({'intents':[GatewayIntentBits[_0x4770eb(0x173)],GatewayIntentBits[_0x4770eb(0x1a1)],GatewayIntentBits[_0x4770eb(0x1be)]]}),app=express(),port=0xbb8;function _0x5119(_0xeea835,_0x3a138e){const _0x4b0b80=_0x4b0b();return _0x5119=function(_0x511927,_0x3903c6){_0x511927=_0x511927-0x16f;let _0x55af56=_0x4b0b80[_0x511927];return _0x55af56;},_0x5119(_0xeea835,_0x3a138e);}app[_0x4770eb(0x1af)](express[_0x4770eb(0x198)](path[_0x4770eb(0x1cb)](__dirname,'public'))),app['get']('/',(_0x17dab3,_0x2d5100)=>{const _0x45cc94=_0x4770eb;_0x2d5100[_0x45cc94(0x186)](path['join'](__dirname,'index.html'));}),app[_0x4770eb(0x17c)](port,()=>{const _0x5d7f61=_0x4770eb;console[_0x5d7f61(0x1cd)]('Server\x20running\x20at\x20http://localhost:'+port);});const GITHUB_API_URL=process[_0x4770eb(0x1c8)]['GITHUB_API_URL'],PREMIUM_ROLE_NAME=_0x4770eb(0x1bf);client[_0x4770eb(0x178)](_0x4770eb(0x191),()=>{const _0x56e365=_0x4770eb;console['log'](_0x56e365(0x17e));}),client['on'](_0x4770eb(0x16f),async _0x27477b=>{const _0x2cd905=_0x4770eb;if(_0x27477b[_0x2cd905(0x175)]['bot'])return;const _0x556a51=_0x27477b[_0x2cd905(0x18a)]['roles'][_0x2cd905(0x199)][_0x2cd905(0x1ac)](_0x439f82=>_0x439f82[_0x2cd905(0x197)]===PREMIUM_ROLE_NAME);if(_0x27477b[_0x2cd905(0x1b3)][_0x2cd905(0x1b8)](_0x2cd905(0x171))){if(!_0x27477b[_0x2cd905(0x18a)]['permissions'][_0x2cd905(0x1c2)](Permissions[_0x2cd905(0x187)][_0x2cd905(0x1bc)])&&!_0x556a51)return _0x27477b[_0x2cd905(0x1b6)][_0x2cd905(0x172)](_0x2cd905(0x19a));const _0x170165=_0x27477b[_0x2cd905(0x1b3)][_0x2cd905(0x1bd)]('\x20')[0x1];if(!_0x170165)return _0x27477b[_0x2cd905(0x1b6)][_0x2cd905(0x172)](_0x2cd905(0x179));try{const _0x56699d=await axios[_0x2cd905(0x190)]('https://users.roblox.com/v1/usernames/users',{'usernames':[_0x170165],'excludeBannedUsers':![]});if(_0x56699d[_0x2cd905(0x1ad)]&&_0x56699d[_0x2cd905(0x1ad)]['data']&&_0x56699d[_0x2cd905(0x1ad)]['data'][_0x2cd905(0x1a5)]>0x0){const _0x168cdc=await axios[_0x2cd905(0x1c5)](GITHUB_API_URL,{'headers':{'Authorization':_0x2cd905(0x1c6)+process[_0x2cd905(0x1c8)]['GITHUB_TOKEN']}}),_0x28ab95=Buffer[_0x2cd905(0x193)](_0x168cdc[_0x2cd905(0x1ad)][_0x2cd905(0x1b3)],'base64')[_0x2cd905(0x1a2)](_0x2cd905(0x1a3)),_0x5bd8e9=/local premium = {([^}]*)}/,_0x3ad247=_0x5bd8e9[_0x2cd905(0x181)](_0x28ab95);let _0x554d4e;if(_0x3ad247){const _0x3e0fa8=_0x3ad247[0x1]['split'](',')[_0x2cd905(0x192)](_0x37ab13=>_0x37ab13['trim']())[_0x2cd905(0x1b7)](_0x1b6a59=>_0x1b6a59);if(_0x3e0fa8[_0x2cd905(0x1b1)](_0x170165))return _0x27477b[_0x2cd905(0x1b6)][_0x2cd905(0x172)](_0x2cd905(0x1bb));if(_0x556a51){const _0x4bd8ba=await getLastWhitelistTime(_0x27477b[_0x2cd905(0x175)]['id']),_0x2dfacf=0x18*0x3c*0x3c*0x3e8;if(Date[_0x2cd905(0x1a7)]()-_0x4bd8ba<_0x2dfacf)return _0x27477b[_0x2cd905(0x1b6)][_0x2cd905(0x172)](_0x2cd905(0x1a8));await setLastWhitelistTime(_0x27477b[_0x2cd905(0x175)]['id']);}_0x554d4e=_0x28ab95[_0x2cd905(0x1b5)](/local premium = {([^}]*)}/,_0x26111c=>{const _0x1a29c4=_0x2cd905,_0x54f5c5=_0x26111c[0x1][_0x1a29c4(0x185)]();return _0x54f5c5?_0x1a29c4(0x19f)+_0x54f5c5+',\x20'+_0x170165+'\x0a}':'local\x20premium\x20=\x20{'+_0x170165+'\x0a}';});}else _0x554d4e=_0x2cd905(0x17a)+_0x170165+'\x0a}';await axios[_0x2cd905(0x1aa)](GITHUB_API_URL,{'message':_0x2cd905(0x1a4),'content':Buffer[_0x2cd905(0x193)](_0x554d4e)[_0x2cd905(0x1a2)](_0x2cd905(0x18f)),'sha':_0x168cdc[_0x2cd905(0x1ad)][_0x2cd905(0x1b2)]},{'headers':{'Authorization':_0x2cd905(0x1c6)+process[_0x2cd905(0x1c8)][_0x2cd905(0x1c1)],'Content-Type':_0x2cd905(0x1ba)}}),_0x27477b[_0x2cd905(0x1b6)][_0x2cd905(0x172)](_0x170165+_0x2cd905(0x18b));}else _0x27477b['channel'][_0x2cd905(0x172)]('Username\x20does\x20not\x20exist.');}catch(_0x217c02){console[_0x2cd905(0x1a0)](_0x2cd905(0x195),_0x217c02[_0x2cd905(0x1b0)]?_0x217c02[_0x2cd905(0x1b0)][_0x2cd905(0x1ad)]:_0x217c02[_0x2cd905(0x177)]),_0x27477b[_0x2cd905(0x1b6)][_0x2cd905(0x172)]('An\x20error\x20occurred:\x20'+_0x217c02[_0x2cd905(0x177)]);}}if(_0x27477b['content']['startsWith'](':replace')){if(!_0x27477b[_0x2cd905(0x18a)]['permissions']['has'](Permissions['FLAGS'][_0x2cd905(0x1bc)])&&!_0x556a51)return _0x27477b[_0x2cd905(0x1b6)][_0x2cd905(0x172)]('You\x20do\x20not\x20have\x20permission\x20to\x20use\x20this\x20command.');const _0x2a48d2=_0x27477b[_0x2cd905(0x1b3)][_0x2cd905(0x1bd)]('\x20'),_0x4739a6=_0x2a48d2[0x1],_0x3ef3ae=_0x2a48d2[0x2];if(!_0x4739a6||!_0x3ef3ae)return _0x27477b[_0x2cd905(0x1b6)]['send'](_0x2cd905(0x18c));try{const _0x3789e8=await axios[_0x2cd905(0x190)](_0x2cd905(0x18e),{'usernames':[_0x4739a6,_0x3ef3ae],'excludeBannedUsers':![]}),_0x32b861=_0x3789e8[_0x2cd905(0x1ad)][_0x2cd905(0x1ad)];if(_0x32b861&&_0x32b861[_0x2cd905(0x1a5)]===0x2){const _0x29598f=await axios[_0x2cd905(0x1c5)](GITHUB_API_URL,{'headers':{'Authorization':_0x2cd905(0x1c6)+process[_0x2cd905(0x1c8)][_0x2cd905(0x1c1)]}}),_0x155644=Buffer[_0x2cd905(0x193)](_0x29598f[_0x2cd905(0x1ad)]['content'],_0x2cd905(0x18f))['toString'](_0x2cd905(0x1a3)),_0x37e3a0=/local premium = {([^}]*)}/,_0x55361d=_0x37e3a0[_0x2cd905(0x181)](_0x155644);let _0x207ad0;if(_0x55361d){const _0x4df4d9=_0x55361d[0x1][_0x2cd905(0x1bd)](',')[_0x2cd905(0x192)](_0x2a11d8=>_0x2a11d8[_0x2cd905(0x185)]())['filter'](_0x368222=>_0x368222);if(_0x4df4d9[_0x2cd905(0x1b1)](_0x4739a6))_0x207ad0=_0x155644[_0x2cd905(0x1b5)](/local premium = {([^}]*)}/,_0x3c90a5=>{const _0x3991dd=_0x2cd905;return _0x3991dd(0x19f)+_0x4df4d9[_0x3991dd(0x192)](_0x4df3c4=>_0x4df3c4===_0x4739a6?_0x3ef3ae:_0x4df3c4)[_0x3991dd(0x1cb)](',\x20')+'\x0a}';});else return _0x27477b[_0x2cd905(0x1b6)][_0x2cd905(0x172)](_0x4739a6+_0x2cd905(0x1c9));}else return _0x27477b[_0x2cd905(0x1b6)][_0x2cd905(0x172)](_0x2cd905(0x196));await axios[_0x2cd905(0x1aa)](GITHUB_API_URL,{'message':_0x2cd905(0x17f),'content':Buffer[_0x2cd905(0x193)](_0x207ad0)[_0x2cd905(0x1a2)]('base64'),'sha':_0x29598f[_0x2cd905(0x1ad)]['sha']},{'headers':{'Authorization':_0x2cd905(0x1c6)+process[_0x2cd905(0x1c8)][_0x2cd905(0x1c1)],'Content-Type':'application/json'}}),_0x27477b[_0x2cd905(0x1b6)]['send'](_0x4739a6+_0x2cd905(0x1ab)+_0x3ef3ae+_0x2cd905(0x180));}else _0x27477b['channel']['send'](_0x2cd905(0x1ae));}catch(_0x13c876){console[_0x2cd905(0x1a0)]('Error\x20handling\x20the\x20replace\x20command:',_0x13c876[_0x2cd905(0x1b0)]?_0x13c876[_0x2cd905(0x1b0)][_0x2cd905(0x1ad)]:_0x13c876[_0x2cd905(0x177)]),_0x27477b['channel'][_0x2cd905(0x172)]('An\x20error\x20occurred:\x20'+_0x13c876[_0x2cd905(0x177)]);}}if(_0x27477b[_0x2cd905(0x1b3)][_0x2cd905(0x1b8)](_0x2cd905(0x1c3))){if(!_0x27477b['member'][_0x2cd905(0x19b)][_0x2cd905(0x1c2)](Permissions[_0x2cd905(0x187)][_0x2cd905(0x1bc)])&&!_0x556a51)return _0x27477b['channel'][_0x2cd905(0x172)](_0x2cd905(0x19a));const _0x48c11f=_0x27477b['content'][_0x2cd905(0x1bd)]('\x20')[0x1];if(!_0x48c11f)return _0x27477b[_0x2cd905(0x1b6)][_0x2cd905(0x172)](_0x2cd905(0x179));try{const _0x1b169f=await axios[_0x2cd905(0x1c5)](GITHUB_API_URL,{'headers':{'Authorization':_0x2cd905(0x1c6)+process['env'][_0x2cd905(0x1c1)]}}),_0x169934=Buffer[_0x2cd905(0x193)](_0x1b169f[_0x2cd905(0x1ad)][_0x2cd905(0x1b3)],'base64')[_0x2cd905(0x1a2)](_0x2cd905(0x1a3)),_0x3935f6=/local premium = {([^}]*)}/,_0x38789e=_0x3935f6[_0x2cd905(0x181)](_0x169934);if(_0x38789e){const _0x5913ac=_0x38789e[0x1][_0x2cd905(0x1bd)](',')[_0x2cd905(0x192)](_0x1d2717=>_0x1d2717[_0x2cd905(0x185)]())[_0x2cd905(0x1b7)](_0x5f344d=>_0x5f344d);_0x5913ac['includes'](_0x48c11f)?_0x27477b['channel'][_0x2cd905(0x172)]('**'+_0x48c11f+_0x2cd905(0x184)):_0x27477b[_0x2cd905(0x1b6)][_0x2cd905(0x172)]('**'+_0x48c11f+_0x2cd905(0x1a9));}else _0x27477b[_0x2cd905(0x1b6)][_0x2cd905(0x172)]('Error\x20retrieving\x20whitelist\x20information.');}catch(_0x12942e){console[_0x2cd905(0x1a0)](_0x2cd905(0x188),_0x12942e[_0x2cd905(0x1b0)]?_0x12942e[_0x2cd905(0x1b0)][_0x2cd905(0x1ad)]:_0x12942e['message']),_0x27477b[_0x2cd905(0x1b6)][_0x2cd905(0x172)](_0x2cd905(0x1c7)+_0x12942e[_0x2cd905(0x177)]);}}});async function login(){const _0x5d0f76=_0x4770eb;try{await client['login'](process['env']['TOKEN']),console[_0x5d0f76(0x1cd)]('Logged\x20in\x20as:',client[_0x5d0f76(0x17b)][_0x5d0f76(0x1cc)]);}catch(_0x1e2433){console[_0x5d0f76(0x1a0)]('Failed\x20to\x20log\x20in:',_0x1e2433),process[_0x5d0f76(0x189)](0x1);}}login();
